import{p as e}from"./phaser-cxBNu8M8.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class t extends e.Scene{constructor(){super("Boot")}preload(){this.load.setPath("/res/phaser/games/chooseface/dist"),this.load.image("back","/assets/images/back.jpg"),this.load.image("face0","/assets/images/face0.png"),this.load.image("face1","/assets/images/face1.png"),this.load.image("face2","/assets/images/face2.png"),this.load.image("face3","/assets/images/face3.png"),this.load.image("face4","/assets/images/face4.png"),this.load.image("face5","/assets/images/face5.png"),this.load.image("face6","/assets/images/face6.png"),this.load.image("lose","/assets/images/lose.jpg")}create(){this.scene.start("Game")}}class s extends Phaser.Scene{constructor(){super("Game")}create(){this.add.image(0,0,"back").setOrigin(0,0),this.face0=this.add.sprite(225,425,"face0").setScale(.5,.5),this.face1=this.add.sprite(480,460,"face1").setScale(.5,.5),this.face2=this.add.sprite(740,425,"face2").setScale(.5,.5),this.face0.setInteractive().on("pointerdown",(()=>this.clickedFace(this.face0))),this.face1.setInteractive().on("pointerdown",(()=>this.clickedFace(this.face1))),this.face2.setInteractive().on("pointerdown",(()=>this.clickedFace(this.face2))),this.spriteSolution=this.add.sprite(470,190,"face0"),this.score=0,this.scoreTXT=this.add.text(90,120,this.score,{fontFamily:"font1",fontSize:60,color:"#00ff00",align:"right"}),this.scoreTXT.setOrigin(1,0),this.add.text(105,150,"pts",{fontFamily:"font1",fontSize:24,color:"#00ff00"}),this.timeLimit=10,this.timing=this.timeLimit,this.timeTXT=this.add.text(835,130,this.timing,{fontFamily:"font1",fontSize:64,color:"#00ff00"}),this.timeTXT.rotation=20*Math.PI/180,this.timer(),this.newTurn()}timer(){--this.timing,this.timeTXT.setText(this.timing),0===this.timing?this.scene.start("GameOver"):this.time.delayedCall(1e3,this.timer,[],this)}clickedFace(e){e.texture.key===this.spriteSolution.texture.key?(++this.score,this.scoreTXT.setText(this.score),this.timing=10,this.newTurn()):this.scene.start("GameOver")}newTurn(){const e=[0,1,2,3,4,5,6];this.randomizeArray(e),this.face0.setTexture(`face${e[0]}`),this.face1.setTexture(`face${e[1]}`),this.face2.setTexture(`face${e[2]}`);const t="face"+e[Math.floor(3*Math.random())];this.spriteSolution.setTexture(t)}randomizeArray(e){return e.sort((()=>Math.floor(3*Math.random())-1))}}class i extends e.Scene{constructor(){super("GameOver")}create(){this.cameras.main.setBackgroundColor(16711680),this.add.image(0,0,"lose").setOrigin(0),this.input.once("pointerdown",(()=>{this.scene.start("Game")}))}}class a extends e.Scene{constructor(){super("MainMenu")}create(){this.add.image(512,384,"background"),this.add.image(512,300,"logo"),this.add.text(512,460,"Main Menu",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("Game")}))}}class r extends e.Scene{constructor(){super("Preloader")}init(){this.add.image(512,384,"background"),this.add.rectangle(512,384,468,32).setStrokeStyle(1,16777215);const e=this.add.rectangle(282,384,4,28,16777215);this.load.on("progress",(t=>{e.width=4+460*t}))}preload(){this.load.setPath("assets"),this.load.image("logo","logo.png")}create(){this.scene.start("MainMenu")}}const o={type:Phaser.AUTO,width:960,height:640,parent:"game-container",backgroundColor:"#028af8",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},scene:[t,r,a,s,i]};new Phaser.Game(o);
