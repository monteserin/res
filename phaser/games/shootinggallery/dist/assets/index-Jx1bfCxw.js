import{p as e}from"./phaser-cxBNu8M8.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class t extends e.Scene{constructor(){super("Boot")}preload(){this.load.setPath("/res/phaser/games/shootinggallery/dist"),this.load.image("back","/assets/back.jpg"),this.load.spritesheet("caterpillar","/assets/caterpillar.png",{frameWidth:96,frameHeight:192}),this.load.spritesheet("ant","/assets/ant.png",{frameWidth:192,frameHeight:96}),this.load.spritesheet("bee","/assets/bee.png",{frameWidth:128,frameHeight:128}),this.load.spritesheet("crash","/assets/crash.png",{frameWidth:199,frameHeight:200})}create(){this.anims.create({key:"caterpillarWalk",frames:this.anims.generateFrameNumbers("caterpillar",{start:0,end:3}),frameRate:7,repeat:-1}),this.anims.create({key:"antWalk",frames:this.anims.generateFrameNumbers("ant",{start:0,end:3}),frameRate:7,repeat:-1}),this.anims.create({key:"beeWalk",frames:this.anims.generateFrameNumbers("bee",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"crashAnim",frames:this.anims.generateFrameNumbers("crash",{start:0,end:4}),frameRate:7}),this.scene.start("Game")}}class a extends Phaser.Scene{constructor(){super("Game")}create(){this.add.image(0,0,"back").setOrigin(0),this.createSprite()}createSprite(){const e=this.sys.game.config.width,t=this.sys.game.config.height,a=Math.floor(Math.random()*t),s=Math.random()>.5?e+100:-100,r=-100==s?1:-1,i=["caterpillar","ant","bee"],n=i[Math.floor(Math.random()*i.length)],o=this.physics.add.sprite(s,a,n).setInteractive().on("pointerdown",(()=>this.clickedBug(o)));o.setVelocity(200*r,0),o.play(n+"Walk"),o.on("animationcomplete",this.animationComplete,this),-1==r&&(o.flipX=!0),this.time.delayedCall(1e3,(()=>{this.createSprite()}),[],this)}animationComplete(e,t,a){"crashAnim"===e.key&&a.destroy()}clickedBug(e){e.body.enable&&(e.disableBody(),e.play("crashAnim"))}update(){console.log("update")}}class s extends e.Scene{constructor(){super("GameOver")}create(){this.add.image(0,0,"background").setOrigin(0),this.input.once("pointerdown",(()=>{this.scene.start("Game")}))}}class r extends e.Scene{constructor(){super("MainMenu")}create(){this.add.image(512,384,"background"),this.add.image(512,300,"logo"),this.add.text(512,460,"Main Menu",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("Game")}))}}class i extends e.Scene{constructor(){super("Preloader")}init(){this.add.image(512,384,"background"),this.add.rectangle(512,384,468,32).setStrokeStyle(1,16777215);const e=this.add.rectangle(282,384,4,28,16777215);this.load.on("progress",(t=>{e.width=4+460*t}))}preload(){this.load.setPath("assets"),this.load.image("logo","logo.png")}create(){this.scene.start("MainMenu")}}const n={type:Phaser.AUTO,width:960,height:640,parent:"game-container",backgroundColor:"#028af8",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:[t,i,r,a,s]};new Phaser.Game(n);
