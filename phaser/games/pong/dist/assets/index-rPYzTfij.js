import{p as t}from"./phaser-cxBNu8M8.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class e extends t.Scene{constructor(){super("Boot")}preload(){this.load.setPath("/res/phaser/games/pong/dist"),this.load.image("back","/assets/back.jpg"),this.load.image("hand1","/assets/hand1.png"),this.load.image("hand2","/assets/hand2.png"),this.load.image("arrow","/assets/arrow.png"),this.load.spritesheet("ball","/assets/ball.png",{frameWidth:100,frameHeight:100})}create(){this.scene.start("Game")}}class s extends Phaser.Scene{constructor(){super("Game")}create(){this.gameHeight=this.sys.game.config.height,this.gameWidth=this.sys.game.config.width,this.add.sprite(0,0,"back").setOrigin(0),this.hand1=this.physics.add.sprite(70,320,"hand1"),this.hand1.body.immovable=!0,this.cursors=this.input.keyboard.createCursorKeys(),this.visualControls({x:50,y:50},{x:50,y:590},this.hand1),this.hand2=this.physics.add.sprite(882,320,"hand2"),this.visualControls({x:910,y:50},{x:910,y:590},this.hand2),this.hand2.body.immovable=!0,this.cursors2=this.input.keyboard.addKeys({up:"W",left:"A",down:"S",right:"D"}),this.input.addPointer(),this.input.addPointer(),this.input.addPointer(),this.physics.world.setBoundsCollision(!1,!1,!0,!0),this.hand1.setSize(60,250),this.hand2.setSize(60,250),this.showScore(),this.ball=this.physics.add.sprite(this.gameWidth/2,this.gameHeight/2,"ball"),this.ball.setBounce(1),this.ball.setCollideWorldBounds(!0),this.anims.create({key:"shine",frames:this.anims.generateFrameNumbers("ball",{start:0,end:3}),frameRate:10,repeat:-1}),this.ball.play("shine"),this.speed=500,this.placeBall(),this.physics.add.collider(this.ball,this.hand2),this.physics.add.collider(this.ball,this.hand1),this.hand1.setCollideWorldBounds(!0),this.hand2.setCollideWorldBounds(!0)}visualControls(t,e,s){const i=this.add.sprite(t.x,t.y,"arrow").setInteractive(),a=this.add.sprite(e.x,e.y,"arrow").setInteractive();a.flipY=!0,s.setData("verticalDirection",0),a.on("pointerdown",(()=>{s.setData("verticalDirection",-1)})),i.on("pointerdown",(()=>{s.setData("verticalDirection",1)})),a.on("pointerup",(()=>{s.setData("verticalDirection",0)})),i.on("pointerup",(()=>{s.setData("verticalDirection",0)}))}placeBall(){this.ball.x=this.gameWidth/2,this.ball.y=this.gameHeight/2;let t=Math.random()*(Math.PI/4*3-Math.PI/4)+Math.PI/4;1===Math.floor(2*Math.random())&&(t+=Math.PI);const e=Math.sin(t)*this.speed,s=Math.cos(t)*this.speed;this.ball.body.velocity.x=e,this.ball.body.velocity.y=s}update(){console.log("update"),this.ball.rotation+=.1,this.cursors.up.isDown||1===this.hand1.getData("verticalDirection")?this.hand1.y=this.hand1.y-5:(this.cursors.down.isDown||-1===this.hand1.getData("verticalDirection"))&&(this.hand1.y=this.hand1.y+5),this.cursors2.up.isDown||1===this.hand2.getData("verticalDirection")?this.hand2.y=this.hand2.y-5:(this.cursors2.down.isDown||-1===this.hand2.getData("verticalDirection"))&&(this.hand2.y=this.hand2.y+5),this.ball.x<0?(this.hand1Score.setText(parseInt(this.hand1Score.text)+1),this.placeBall()):this.ball.x>this.gameWidth&&(this.hand2Score.setText(parseInt(this.hand2Score.text)+1),this.placeBall())}showScore(){this.hand1Score=this.add.text(395,75,"0",{fontFamily:"font1",fontSize:80,color:"#ffffff",align:"right"}).setOrigin(1,0),this.hand2Score=this.add.text(520,75,"0",{fontFamily:"font1",fontSize:80,color:"#ffffff"})}}class i extends t.Scene{constructor(){super("GameOver")}create(){this.cameras.main.setBackgroundColor(16711680),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Game Over",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("MainMenu")}))}}class a extends t.Scene{constructor(){super("MainMenu")}create(){this.add.image(512,384,"background"),this.add.image(512,300,"logo"),this.add.text(512,460,"Main Menu",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("Game")}))}}class r extends t.Scene{constructor(){super("Preloader")}init(){this.add.image(512,384,"background"),this.add.rectangle(512,384,468,32).setStrokeStyle(1,16777215);const t=this.add.rectangle(282,384,4,28,16777215);this.load.on("progress",(e=>{t.width=4+460*e}))}preload(){this.load.setPath("assets"),this.load.image("logo","logo.png")}create(){this.scene.start("MainMenu")}}const n={type:Phaser.AUTO,width:960,height:640,parent:"game-container",backgroundColor:"#028af8",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:[e,r,a,s,i]};new Phaser.Game(n);
